<ui:composition template="/WEB-INF/template/Layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="menu">
		<h:form>
        MENU
         <p:menu>
				<p:menuitem value="Home" outcome = "Home" />
				<p:menuitem value="Relatório Contábil" outcome="RelatorioContabil"/>
				<p:menuitem value="Relatório de Venda" outcome="RelatorioDeVendas"/>
				<p:menuitem value="Relatório de Prospecção" outcome="RelatorioDeProspeccao"/>
				<p:menuitem value="Sair" url="/j_spring_security_logout"/>
			</p:menu>
		</h:form>
	</ui:define>

	<ui:define name="corpo">
		<h2 > Relatório de Prospecção</h2>
	
		<br />
		<h:form id="frm">
			<p:growl id="msgs" showDetail="true" />
			<p:panelGrid columns="2" columnClasses="ui-grid-col-3, ui-grid-col-9">
				<p:outputLabel value="Tag" for="tagAutoComplete" />
				<p:autoComplete id="tagAutoComplete" placeholder="Todos"
					value="#{prospeccaoVendaBean.tagSelecionada}"
					completeMethod="#{prospeccaoVendaBean.completeTag}" var="tag"
					itemLabel="#{tag.nome}" itemValue="#{tag}" converter="tagConverter"
					required="true" />
				<h:commandButton value="Cálcular média de preço"
					action="#{prospeccaoVendaBean.calcularValor}">
					<f:ajax execute="@form" render="@form" />
				</h:commandButton>
			</p:panelGrid>
			<p:separator />
			<h:outputText value="O preço médio é: #{prospeccaoVendaBean.media}" />
		</h:form>

	</ui:define>

</ui:composition>
